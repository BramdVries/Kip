<div [class]="themeClass">
    <div class="mainContainer app-defaults" >
        <div class="mainWindow">
            <router-outlet></router-outlet>
        </div>
        <div class="menuBar">
            <div class="menuBarContainer theme-menu">

                <div class="menuBarButtonGroup">
                    <button color="accent" mat-raised-button [matMenuTriggerFor]="themeMenu" >
                            <span class="fa fa-lg fa-paint-brush"></span>
                    </button>
                    <mat-menu #themeMenu="matMenu">
                        <button mat-menu-item (click)="setTheme('default-light')">Default</button>
                        <button mat-menu-item (click)="setTheme('signalk')">Signal K</button>
                        <button mat-menu-item (click)="setTheme('high-contrast-light')">High Contrast</button>
                        <button mat-menu-item (click)="setTheme('night-dark')">Night (red)</button>
                        <button mat-menu-item (click)="setTheme('platypus-light')">Platypus</button>
                        <button mat-menu-item (click)="setTheme('darkBlue')">DarkBlue</button>
                        <button mat-menu-item (click)="setTheme('modern-dark')">Modern</button>
                    </mat-menu>
                </div>

                <div class="menuBarButtonGroup">
                    <button color="accent" mat-raised-button (click)="pageDown()">
                        <span class="fa fa-lg fa-chevron-left"></span>
                    </button>
                    
                    <button [class.alarmCrit]="blinkCrit"
                            [class.alarmWarning]="blinkWarn"
                            mat-raised-button 
                            [matMenuTriggerFor]="alarmMenu"
                            [disabled]="alarmCount == 0"
                            [matBadgeHidden]="alarmCount == 0"
                            [matBadge]="unAckAlarms"
                            matBadgePosition="before"
                            matBadgeColor="warn">
                      <span class="fa fa-lg fa-bell"></span>
                    </button>
                    <mat-menu #alarmMenu="matMenu">
                      <div *ngFor="let alarm of alarms | keyvalue">
                        <button mat-menu-item [matMenuTriggerFor]="actions">
                          <span *ngIf="alarm.value.ack" class="fa fa-lg fa-check"></span>
                          <span *ngIf="!alarm.value.ack" class="fa fa-lg fa-exclamation"></span>
                          {{ alarm.value.message }}
                        </button>
                        <mat-menu #actions="matMenu">
                          <button mat-menu-item (click)="ackAlarm(alarm.key)" >Acknowledge</button>
                          <button mat-menu-item (click)="ackAlarm(alarm.key, 300000)" >Snooze (5min)</button>
                        </mat-menu>

                      </div>
                    </mat-menu>

                    <button color="accent" mat-raised-button (click)="pageUp()">
                        <span class="fa fa-lg fa-chevron-right"></span>
                    </button>
                </div>

                <div class="menuBarButtonGroup">
                    <button color="accent" mat-raised-button [matMenuTriggerFor]="settingsMenu" >
                            <span class="fa fa-lg fa-cog"></span>
                    </button>
                    <mat-menu #settingsMenu="matMenu">
                        <button mat-menu-item (click)="unlockPage()">
                            <span *ngIf="!unlockStatus"><i class="fa fa-unlock" aria-hidden="true"></i> Unlock</span>
                            <span *ngIf="unlockStatus"><i class="fa fa-lock" aria-hidden="true"></i> Lock</span>
                        </button>
                        <button mat-menu-item (click)="toggleFullScreen()">
                            <span *ngIf="!fullscreenStatus"><i class="fa fa-window-maximize" aria-hidden="true"></i> Fullscreen</span>
                            <span *ngIf="fullscreenStatus"><i class="fa fa-window-restore" aria-hidden="true"></i> Exit Fullscreen</span>
                        </button>
                        <button mat-menu-item [disabled]="!unlockStatus" (click)="newPage()">
                            <span><i class="fa fa-plus-square" aria-hidden="true"></i> New Page</span></button>
                        <button mat-menu-item routerLink="/settings">
                            <span><i class="fa fa-cog" aria-hidden="true"></i> App Settings</span></button>
                    </mat-menu>
                </div>

            </div>
        </div>
    </div>
</div>
