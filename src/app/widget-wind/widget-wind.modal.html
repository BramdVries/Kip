<form name="widgetSettingsForm" (ngSubmit)="submitConfig()">
        
    <mat-dialog-content>

        <mat-horizontal-stepper>
            <mat-step label="Heading">
                <div class="tab-content"> 
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="Heading Path" 
                            [(ngModel)]="settingsData.headingPath" 
                            name="settingsData.headingPath"
                                (ngModelChange)="updateHeadingSources()"
                            required>
                            <mat-option *ngFor="let path of (availablePaths | filterSelf: selfPaths)" [value]="path">
                                {{path}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-checkbox
                        [(ngModel)]="selfPaths"
                        name="selfPaths"
                        >
                        Restric to own vessel
                    </mat-checkbox>
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="Source" 
                            [(ngModel)]="settingsData.headingSource" 
                            name="settingsData.headingSource">
                            <mat-option *ngFor="let source of headingSources" [value]="source">
                                {{source}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button type="button" mat-raised-button color="accent" matStepperNext [disabled]="!settingsData.headingPath">Next</button>
                </div>
            </mat-step>
            <mat-step label="True Wind Angle">
                <div class="tab-content"> 
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="True wind Angle Path" 
                            [(ngModel)]="settingsData.trueWindAnglePath" 
                            name="settingsData.trueWindAnglePath"
                                (ngModelChange)="updateTrueWindAngleSources()"
                            required>
                            <mat-option *ngFor="let path of (availablePaths | filterSelf: selfPaths)" [value]="path">
                                {{path}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-checkbox
                        [(ngModel)]="selfPaths"
                        name="selfPaths"
                        >
                        Restric to own vessel
                    </mat-checkbox>
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="Source" 
                            [(ngModel)]="settingsData.trueWindAngleSource" 
                            name="settingsData.trueWindAngleSource">
                            <mat-option *ngFor="let source of trueWindAngleSources" [value]="source">
                                {{source}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button type="button" mat-raised-button matStepperPrevious>Back</button>
                    <button type="button" mat-raised-button color="accent" matStepperNext [disabled]="!settingsData.trueWindAnglePath">Next</button>
                </div>
            </mat-step>

            <mat-step label="True Wind Speed">
                <div class="tab-content"> 
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="True wind Speed Path" 
                            [(ngModel)]="settingsData.trueWindSpeedPath" 
                            name="settingsData.trueWindSpeedPath"
                                (ngModelChange)="updateTrueWindSpeedSources()"
                            required>
                            <mat-option *ngFor="let path of (availablePaths | filterSelf: selfPaths)" [value]="path">
                                {{path}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-checkbox
                        [(ngModel)]="selfPaths"
                        name="selfPaths"
                        >
                        Restric to own vessel
                    </mat-checkbox>
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="Source" 
                            [(ngModel)]="settingsData.trueWindSpeedSource" 
                            name="settingsData.trueWindSpeedSource">
                            <mat-option *ngFor="let source of trueWindSpeedSources" [value]="source">
                                {{source}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button type="button" mat-raised-button matStepperPrevious>Back</button>
                    <button type="button" mat-raised-button color="accent" matStepperNext [disabled]="!settingsData.trueWindAnglePath">Next</button>
                </div>
            </mat-step>

            <mat-step label="App Wind Angle">
                <div class="tab-content"> 
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="App wind Angle Path" 
                            [(ngModel)]="settingsData.appWindAnglePath" 
                            name="settingsData.appWindAnglePath"
                                (ngModelChange)="updateAppWindAngleSources()"
                            required>
                            <mat-option *ngFor="let path of (availablePaths | filterSelf: selfPaths)" [value]="path">
                                {{path}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-checkbox
                        [(ngModel)]="selfPaths"
                        name="selfPaths"
                        >
                        Restric to own vessel
                    </mat-checkbox>
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="Source" 
                            [(ngModel)]="settingsData.appWindAngleSource" 
                            name="settingsData.appWindAngleSource">
                            <mat-option *ngFor="let source of appWindAngleSources" [value]="source">
                                {{source}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button type="button" mat-raised-button matStepperPrevious>Back</button>
                    <button type="button" mat-raised-button color="accent" matStepperNext [disabled]="!settingsData.appWindAnglePath">Next</button>
                </div>
            </mat-step>

            <mat-step label="App Wind Speed">
                <div class="tab-content"> 
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="App. wind Speed Path" 
                            [(ngModel)]="settingsData.appWindSpeedPath" 
                            name="settingsData.appWindSpeedPath"
                                (ngModelChange)="updateAppWindSpeedSources()"
                            required>
                            <mat-option *ngFor="let path of (availablePaths | filterSelf: selfPaths)" [value]="path">
                                {{path}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-checkbox
                        [(ngModel)]="selfPaths"
                        name="selfPaths"
                        >
                        Restric to own vessel
                    </mat-checkbox>
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="Source" 
                            [(ngModel)]="settingsData.appWindSpeedSource" 
                            name="settingsData.appWindSpeedSource">
                            <mat-option *ngFor="let source of appWindSpeedSources" [value]="source">
                                {{source}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button type="button" mat-raised-button matStepperPrevious>Back</button>
                    <button type="button" mat-raised-button color="accent" matStepperNext [disabled]="!settingsData.appWindAnglePath">Next</button>
                </div>
            </mat-step>            
            <mat-step label="Units">
                <div class="tab-content"> 
                    <mat-form-field class="full-width">
                        <mat-select 
                            placeholder="Unit" 
                            [(ngModel)]="settingsData.unitName" 
                            name="unitName"
                            >
                            <mat-option *ngFor="let unitName of availableUnitNames" [value]="unitName">
                                {{unitName}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <button type="button" mat-raised-button matStepperPrevious>Back</button>
                    <button mat-raised-button color="accent" type="submit">Save</button>
                </div>
            </mat-step>                    


        </mat-horizontal-stepper>
    </mat-dialog-content>
</form>                        