<form (ngSubmit)="onSubmit()" [formGroup]="formMaster">
  <mat-dialog-content>
    <mat-tab-group class="">
      <mat-tab label="Display">
        <div class="tab-content"> 
            <mat-form-field class="full-width">
                <input matInput placeholder="Widget Label" name="widgetLabel" formControlName="widgetLabel">
            </mat-form-field>
            <div class="full-width" *ngIf="(formMaster.controls.numInt !== undefined)">
              <mat-form-field class="half-width">
                      <input type="number" min="0" max="5" matInput placeholder="Min Number of Integer Places" name="numInt"  formControlName="numInt">
              </mat-form-field>
              <mat-form-field class="half-width">
                <input type="number" min="0" max="5" matInput placeholder="Min Number of Decimals" name="numDecimal"  formControlName="numDecimal">
              </mat-form-field>
            </div>          
        </div>
      </mat-tab>
      <mat-tab label="Paths" [formGroup]="formPaths">
        <ng-template mat-tab-label>
          <span *ngIf="!formPaths.valid" class="warning fa fa-exclamation-circle"></span> Paths
        </ng-template>
        <modal-path-selector class="full-width" *ngFor="let questionPath of questions.paths"
          [question]="questionPath" [formGroup]="formPaths.controls[questionPath.key]" [selfPaths]="formPaths.value.selfPaths"
          ></modal-path-selector>

        <mat-checkbox name="selfPaths" formControlName="selfPaths">
        Restric to own vessel
        </mat-checkbox>
        {{formMaster.value|json}}

      </mat-tab>

      <mat-tab label="Units" *ngIf="(formMaster.controls.units !== undefined)">
        <ng-template mat-tab-label>
          <span *ngIf="!formMaster.controls.units.valid" class="warning fa fa-exclamation-circle"></span> Units
        </ng-template>
        <div class="tab-content"> 
          <modal-unit-selector class="full-width" *ngFor="let questionUnit of questions.units"
            [controlName]="questionUnit.unitFor"
            [path]="formPaths.controls[questionUnit.unitFor].controls[questionUnit.unitFor + 'Path'].value"
            [formGroup]="formMaster.controls.units" ></modal-unit-selector>
          <!--
          <mat-form-field class="full-width">
            <mat-select 
                placeholder="Unit Category" 
                
                name="unitGroup"
                >
                <mat-option *ngFor="let group of availableUnitGroups" [value]="group">
                </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-select 
                placeholder="Unit" 
                [(ngModel)]="settingsData.unitName" 
                name="unitName"
                >
                <mat-option *ngFor="let unitName of availableUnitNames" [value]="unitName">
                    {{unitName}}
                </mat-option>
            </mat-select>
          </mat-form-field> -->
        </div>
      </mat-tab>  
    </mat-tab-group>
  </mat-dialog-content>
  <mat-dialog-actions>
      <button type="button" mat-dialog-close mat-raised-button>Cancel</button>
      <button mat-raised-button color="accent" type="submit" [disabled]="!formMaster.valid" >Save</button>
  </mat-dialog-actions>
</form>
