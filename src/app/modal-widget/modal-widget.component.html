<form (ngSubmit)="submitConfig()" [formGroup]="formMaster">
  <mat-dialog-content>
    <mat-tab-group class="">
      <mat-tab label="Display">
        <div class="tab-content"> 
            <mat-form-field class="full-width">
                <input matInput placeholder="Widget Label" name="widgetLabel" formControlName="widgetLabel">
            </mat-form-field>
            <div class="full-width" *ngIf="(formMaster.controls.numInt !== undefined)">
              <mat-form-field class="half-width">
                      <input type="number" min="0" max="5" matInput placeholder="Min Number of Integer Places" name="numInt"  formControlName="numInt">
              </mat-form-field>
              <mat-form-field class="half-width">
                <input type="number" min="0" max="5" matInput placeholder="Min Number of Decimals" name="numDecimal"  formControlName="numDecimal">
              </mat-form-field>
            </div>          
        </div>
      </mat-tab>
      <mat-tab label="Paths">
        <ng-template mat-tab-label>
          <span *ngIf="!formMaster.controls.paths.valid" class="warning fa fa-exclamation-circle"></span> Paths
        </ng-template>
        <modal-path-selector class="full-width" *ngFor="let pathForm of formMaster.controls.paths.controls | objectKeys"
          [formGroup]="formMaster.controls.paths.controls[pathForm]" [selfPaths]="formMaster.value.selfPaths"
          ></modal-path-selector>

        <mat-checkbox name="selfPaths" formControlName="selfPaths">
        Restric to own vessel
        </mat-checkbox>
      </mat-tab>

      <mat-tab label="Units" *ngIf="(formMaster.controls.units !== undefined)">
        <ng-template mat-tab-label>
          <span *ngIf="!formMaster.controls.units.valid" class="warning fa fa-exclamation-circle"></span> Units
        </ng-template>
        <div class="tab-content"> 
          <modal-unit-selector class="full-width" *ngFor="let unitKey of formMaster.controls.units.controls  | objectKeys"
            [controlName]="unitKey"
            [path]="formMaster.controls.paths.controls[unitKey].value.path"
            [formGroup]="formMaster.controls.units" ></modal-unit-selector>
        </div>
      </mat-tab>  
    </mat-tab-group>
  </mat-dialog-content>
  <mat-dialog-actions>
      <button type="button" mat-dialog-close mat-raised-button>Cancel</button>
      <button mat-raised-button color="accent" type="submit" [disabled]="!formMaster.valid" >Save</button>
  </mat-dialog-actions>
</form>
